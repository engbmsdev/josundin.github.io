<!doctype html>
<html>
<head>
<title>Proper Title</title>
<style>
	#selectedFiles img {
		max-width: 250px;
		max-height: 250px;
		float: left;
		margin-bottom:10px;
		margin-left:10px;
	}
</style>
</head>
    
<body>

        <script type="text/javascript" src="../ext_js/jsfeat-min.js"></script>
        <script type="text/javascript" src="../ext_js/numeric-1.2.6.min.js"></script>
        <script type="text/javascript" src="../ext_js/underscore-min.js"></script>
        <script type="text/javascript" src="../ext_js/hog.js"></script>
        <script type="text/javascript" src="../ext_js/norms.js"></script>
        <script type="text/javascript" src="../ext_js/processing.js"></script>
        <script type="text/javascript" src="../ext_js/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="../ext_js/d3.min.js"></script>

        <script type="text/javascript" src="../js/find_homographies.js"></script>
        <script type="text/javascript" src="../js/ransac.js"></script>
        <script type="text/javascript" src="../js/imagewarp.js"></script>
	
	<form id="myForm" method="post" enctype="multipart/form-data">

        Files: <input type="file" id="files" name="files" multiple accept="image/*"><br/>

        <div id="selectedFiles"></div>

        <!--input type="submit"-->
	</form>

	<script>
	var selDiv = "";
	var images = [];
		
	document.addEventListener("DOMContentLoaded", init, false);
	
	function init() {
		document.querySelector('#files').addEventListener('change', handleFileSelect, false);
		selDiv = document.querySelector("#selectedFiles");
	}
		
	function handleFileSelect(e) {
		
		if(!e.target.files || !window.FileReader) return;
		
		selDiv.innerHTML = "";
		
		var files = e.target.files;
		var filesArr = Array.prototype.slice.call(files);
		filesArr.forEach(function(f) {
			if(!f.type.match("image.*")) {
				return;
			}
	
			var reader = new FileReader();
			reader.onload = function (e) {
				var html = "<img src=\"" + e.target.result + "\">"  ;//+ f.name
				selDiv.innerHTML += html;
				console.log("URL:" ,f.name);				
			}
			reader.readAsDataURL(f);
			
		});
		
		console.log("the files:", filesArr);
		
	}
	</script>

</body>
</html>